<div class="container">
  <h2 class="text-xl fw-bold mb-4">CRUD Database</h2>
  
  @if (stores().length > 0) {
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle text-center">
        <thead class="table-light">
          <tr>
            <th>Nombre</th>
            <th>Direcci칩n</th>
            <th>Localizaci칩n</th>
            <th>Descripci칩n</th>
            <th>Imagen</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          @for (store of stores(); track store._id) {
            <tr>
              <td>{{ store.name }}</td>
              <td>{{ store.address }}</td>
              <td>{{ store.location }}</td>
              <td>{{ store.description || '-' }}</td>
              <td>
                @if (store.image) {
                  <img [src]="store.image" [alt]="store.name" class="img-thumbnail"/>
                } @else {
                  <span>-</span>
                }
              </td>
              <td class="actionbuttons">
                <button (click)="editStore(store._id!)" class="btn btn-sm btn-warning">Editar</button>
                <button (click)="deleteStore(store._id!)" class="btn btn-sm btn-danger">Borrar</button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  
    <div class="mt-3 d-flex gap-2">
      <button (click)="downloadCSV()" class="btn btn-primary">Descargar CSV</button>
      <button (click)="createStore()" class="btn btn-success">A침adir</button>
    </div>
  } @else {
    <p>No se han encontrado tiendas.</p>
  }
</div>
